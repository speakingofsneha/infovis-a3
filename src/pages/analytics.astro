---
// importing the sidebar layout component
import Sidebar from '../layouts/sidebar.astro';
// importing main stylesheet
import '../styles/analytics.scss';
// importing react component for thermal comfort table
import ThermalComfortTable from '../components/uncomfylb.jsx';
import AdvancedFilters from '../components/advfilters.jsx';
---


<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title> Atmos | Dashboard</title>
    <!-- google fonts for material icons -->
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" rel="stylesheet" />
  </head>
  <body>
    <!-- sidebar navigation component -->
    <Sidebar />
    
    <div class="main-content">
      <!-- sticky header bar at top -->
      <div class="topbar">
        <h1>welcome back, <span class="highlight">sarah!</span></h1>
      </div>

      <!-- main dashboard content area -->
      <main class="dashboard">
        <!-- timestamp showing last data update -->
        <p class="last-updated">Last updated: 5:35 pm</p>
          
          <!-- summary section with overall score and metric cards -->
          <section class="summary">
            <!-- circular score display showing overall rating -->
            <div class="score-card">
              <div class="score-circle">82</div>
              <div>
                <div class="score-label">overall rating</div>
                <div class="score-status">Good</div>
              </div>
            </div>
          
            <!-- thermal comfort card - clickable link to detail page -->
            <a href="/thermalcomf" class="metric-card thermal-comfort-width" title="View Thermal Comfort details">
              <div class="card-title">Thermal Comfort</div>
              <div class="card-metrics">
                <!-- air temperature metric -->
                <div class="metric-group">
                  <div class="metric-value temp">
                    <span class="value-main">22.1</span><span class="value-unit">°c</span>
                  </div>
                  <div class="metric-label">air temp</div>
                </div>
                <!-- humidity percentage -->
                <div class="metric-group">
                  <div class="metric-value humidity">
                    <span class="value-main">54</span><span class="value-unit">%</span>
                  </div>
                  <div class="metric-label">humidity</div>
                </div>
                <!-- air speed measurement -->
                <div class="metric-group">
                  <div class="metric-value speed">
                    <span class="value-main">.05</span><span class="value-unit">m/s</span>
                  </div>
                  <div class="metric-label">air speed</div>
                </div>
                <!-- predicted mean vote comfort index -->
                <div class="metric-group">
                  <div class="metric-value pmv">
                    <span class="value-main">-0.6</span>
                  </div>
                  <div class="metric-label">pmv</div>
                </div>
              </div>
            </a>
          
            <!-- air quality card with co2 levels -->
            <a href="/airq" class="metric-card air-quality-width" title="View Air Quality details">
              <div class="card-title">Air Quality</div>
              <div class="card-metrics">
                <div class="metric-group">
                  <div class="metric-value">
                    <span class="value-main">4.5</span><span class="value-unit">ppm</span>
                  </div>
                  <div class="metric-label">co₂</div>
                </div>
              </div>
            </a>
          
            <!-- environment card with light and sound levels -->
            <a class="metric-card environment-width" title="View Environment details">
              <div class="card-title">Environment</div>
              <div class="card-metrics">
                <!-- light level in lux -->
                <div class="metric-group">
                  <div class="metric-value">
                    <span class="value-main">429</span><span class="value-unit">lx</span>
                  </div>
                  <div class="metric-label">illuminance</div>
                </div>
                <!-- sound level in decibels -->
                <div class="metric-group">
                  <div class="metric-value">
                    <span class="value-main">49</span><span class="value-unit">db</span>
                  </div>
                  <div class="metric-label">sound</div>
                </div>
              </div>
            </a>
          </section>

       <!-- <UncomfyLB client:load /> -->
        <!-- react component for thermal comfort table, only loads on client -->
        <AdvancedFilters client:only="react"/>  
        <ThermalComfortTable client:only="react"/>
      </main>
    </div>
  </body>
</html>
