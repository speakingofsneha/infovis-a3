---
import Sidebar from '../layouts/sidebar.astro';
import CO2History from '../components/co2history.jsx';
import CO2Trends from '../components/co2trends.jsx';
import '../styles/index.scss';
---

<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>IEQ Dashboard</title>
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" rel="stylesheet" />
    <script src="https://cdn.plot.ly/plotly-2.27.1.min.js"></script>
    <script src="https://d3js.org/d3.v7.min.js"></script>
  </head>
  <body>
    <Sidebar />
    
    <div class="main-content">
      <!-- Sticky Topbar -->
      <div class="topbar">
        <h1>
          <a class="back-button" href="/">‚Üê</a>
          Air Quality
        </h1>
      </div>

      <!-- Scrollable Dashboard Content -->
      <main class="dashboard">
        <p class="last-updated">Last updated: 5:34 pm</p>
        <div class="summary">
          <a class="metric-card thermal-comfort-width" title="View Thermal Comfort details">
            <div class="card-title">Overall Status</div>
            <div class="card-metrics">
              <div class="metric-group">
                <div class="metric-value temp">
                  <span class="value-main">Great!</span> 
                </div>
              </div>
            </div>
          </a>
          <a class="metric-card thermal-comfort-width" title="View Thermal Comfort details">
            <div class="card-title">CO2</div>
            <div class="card-metrics">
              <div class="metric-group">
                <div class="metric-value temp">
                  <span class="value-main">550ppm</span> 
                </div>
              </div>
            </div>
            
          </a>
        </div>

        <div class="history">
          <CO2History client:only="react"/>
      </div>
      <div class="trends-container">
        <CO2Trends client:only="react"/>
      </div>
      </main>
    </div>
  </body>
</html>
